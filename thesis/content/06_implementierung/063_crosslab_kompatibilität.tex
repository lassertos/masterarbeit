\section{CrossLab Kompatibilität}\label{section:prototypische-implementierung:crosslab-kompatibilität}

% \begin{note}
%     \textbf{Notizen:}
%     \begin{itemize}
%         \item Beschreibung der Basis-Erweiterung
%         \item Beschreibung wie CrossLab-Services hinzugefügt werden können
%     \end{itemize}
% \end{note}

Für die Implementierung der in \autoref{section:konzeption:crosslab-kompatibilität} konzipierten Lösung wurde eine entsprechende Erweiterung entwickelt. Diese ist für die Verwaltung der angebotenen CrossLab-Services sowie für die Anmeldung der IDE als Laborgerät innerhalb einer CrossLab-Instanz verantwortlich und wird im Folgenden als \textit{Basis Erweiterung} bezeichnet.

\paragraph{Verwaltung der CrossLab-Services}
Die Basis Erweiterung hat Zugriff auf alle anderen Erweiterungen der IDE und kann deren angebotenen CrossLab-Services einsehen. Dadurch können diese zu dem Laborgerät der IDE hinzugefügt werden. Weiterhin ist die Basis Erweiterung in der Lage, andere Erweiterungen zu aktivieren. Somit ist es möglich, die zu ladenden Erweiterungen über die Experimentkonfiguration zu definieren. Dafür kann eine entsprechende Liste von Kennzeichnern der entsprechenden Erweiterungen bei der Konfiguration der IDE innerhalb eines Experiments angegeben werden. Diese werden dann aktiviert und deren CrossLab-Services zum Laborgerät der IDE hinzugefügt. Die Aktivierung der Erweiterungen muss vor der Erstellung der Verbindungen geschehen. Daher meldet die Basis Erweiterung zunächst die IDE bei der CrossLab-Instanz an und wartet auf die Konfigurationsnachricht für das Experiment. Daraufhin werden die Erweiterungen gestartet und deren CrossLab-Services hinzugefügt. Schließlich werden dann die Verbindungen für das Experiment erstellt.

\paragraph{Anmeldung als Laborgerät}
Für die Anmeldung der IDE innerhalb einer CrossLab-Instanz wird die URL der erstellten Laborgerät-Instanz sowie ein entsprechender Token benötigt. Diese werden im Falle von edge-instanziierbaren Laborgeräten über die Query-Parameter der vom Nutzer aufzurufenden URL bereitgestellt. Die IDE muss diese entsprechend an die Basis Erweiterung weiterleiten. Dies erfolgt über die Definition von Standardwerten für die Einstellungsoptionen \texttt{crosslab.instanceUrl} und \texttt{crosslab.deviceToken}. Diese Einstellungsoptionen werden von der Basis Erweiterung bereitgestellt und werden beim Aufrufen der IDE gesetzt.