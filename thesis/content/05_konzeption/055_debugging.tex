\section{Debugging} \label{konzeption:debugging}

% Notiz: Debugging Server benötigt Zugriff auf zur Kompilierung verwendete Dateien (sollte wahrscheinlich zusammen mit Compiler auf einem System laufen)

% \begin{itemize}
%     \item Debugging von realem Microcontroller über RPi (avr-gdb)
%     \item Debugging von virtuellem Microcontroller über Cloud-instanziierbares Gerät oder über avr-gcc im Browser
% \end{itemize}

% Das Debuggen von Programmen auf den vorhandenen Microcontrollern gestaltet sich schwierig. Eine Möglichkeit ist die Nutzung der Bibliothek avr\_debug. Diese wird zusammen mit dem Programm kompiliert und auf den Microcontroller hochgeladen. Dort erstellt sie ein Interface für den Debugger gdb. Dieses Interface nutzt die Serielle Schnittstelle des Microcontrollers zur Kommunikation mit gdb. Das CM agiert in diesem Szenario als Schnittstelle zwischen gdb und unserer IDE. Ein Nachteil dieses Vorgehens ist der hohe Speicherverbrauch der Bibliothek, welcher die Anzahl möglicher Programme einschränkt. Allerdings ist ein Vorteil dieses Ansatzes, dass keine zusätzlichen Kosten durch die Anschaffung externe Debugger entstehen.

% Ein weiteres Problem, was beim Debuggen eines laufenden Experimentes beachtet werden muss, ist die fortlaufende Ansteuerung von weiteren Geräten. Nehmen wir als Beispiel ein einfaches Experiment bestehend aus einem Microcontroller und einem 3-Achs-Portal. Wenn wir das Program des Microcontrollers unterbrechen, während dieser den Portalkran aktiv nach rechts bewegt, so wird diese Bewegung nicht unterbrochen. Um sicherzustellen, dass die Signale von Aktoren während eines Breakpoints nicht an andere Geräte weitergeleitet werden müssen die anderen Geräte entsprechend benachrichtigt werden.